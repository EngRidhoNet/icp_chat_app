{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'../../hooks/useAuth';import{validateEmail,validateUserName}from'../../utils/helpers';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const navigate=useNavigate();const{generateOTP}=useAuth();const[formData,setFormData]=useState({email:'',name:''});const[isLoading,setIsLoading]=useState(false);const[error,setError]=useState('');// Inline styles\nconst containerStyle={display:'flex',justifyContent:'center',alignItems:'center',minHeight:'100vh',background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',padding:'20px',fontFamily:'-apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", sans-serif'};const cardStyle={background:'white',borderRadius:'12px',padding:'40px',width:'100%',maxWidth:'400px',boxShadow:'0 10px 30px rgba(0, 0, 0, 0.1)',animation:'fadeIn 0.3s ease-in-out'};const titleStyle={textAlign:'center',marginBottom:'30px',color:'#333',fontSize:'28px',fontWeight:'600'};const inputStyle={width:'100%',padding:'15px',border:'2px solid #e1e5e9',borderRadius:'8px',fontSize:'16px',marginBottom:'20px',boxSizing:'border-box',transition:'border-color 0.3s ease'};const buttonStyle={width:'100%',padding:'15px',background:isLoading?'#ccc':'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',color:'white',border:'none',borderRadius:'8px',fontSize:'16px',fontWeight:'600',cursor:isLoading?'not-allowed':'pointer',marginBottom:'20px',opacity:isLoading?0.7:1};const errorStyle={backgroundColor:'#f8d7da',color:'#721c24',padding:'12px',borderRadius:'6px',marginBottom:'20px',border:'1px solid #f5c6cb',fontSize:'14px'};const linksStyle={textAlign:'center',marginBottom:'20px'};const linkTextStyle={color:'#666',fontSize:'14px',marginBottom:'10px'};const linkButtonStyle={background:'none',border:'none',color:'#667eea',cursor:'pointer',fontSize:'14px',textDecoration:'underline',marginLeft:'5px'};const helpStyle={textAlign:'center',padding:'15px',backgroundColor:'#f8f9fa',borderRadius:'8px',marginTop:'20px'};const helpTextStyle={color:'#6c757d',fontSize:'12px',lineHeight:'1.4'};const handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));setError('');};const handleSubmit=async e=>{e.preventDefault();try{setIsLoading(true);setError('');if(!validateEmail(formData.email)){setError('Please enter a valid email address');return;}if(!validateUserName(formData.name)){setError('Please enter a valid name (1-100 characters)');return;}const result=await generateOTP(formData.email);if(result.success){alert(`OTP Generated!\\n\\nEmail: ${formData.email}\\nOTP: ${result.otp}\\n\\nCheck browser console for details.`);navigate('/verify-otp',{state:{email:formData.email,name:formData.name,isRegister:true}});}else{setError(result.error);}}catch(error){console.error('❌ Registration error:',error);setError('Failed to generate OTP. Please try again.');}finally{setIsLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{style:containerStyle,children:/*#__PURE__*/_jsxs(\"div\",{style:cardStyle,children:[/*#__PURE__*/_jsx(\"h2\",{style:titleStyle,children:\"Create Account\"}),error&&/*#__PURE__*/_jsx(\"div\",{style:errorStyle,children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email Address\",value:formData.email,onChange:handleInputChange,style:inputStyle,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"Full Name\",value:formData.name,onChange:handleInputChange,style:inputStyle,required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:buttonStyle,disabled:isLoading,children:isLoading?'Generating OTP...':'Continue'})]}),/*#__PURE__*/_jsx(\"div\",{style:linksStyle,children:/*#__PURE__*/_jsxs(\"p\",{style:linkTextStyle,children:[\"Already have an account?\",/*#__PURE__*/_jsx(\"button\",{type:\"button\",style:linkButtonStyle,onClick:()=>navigate('/login'),children:\"Sign In\"})]})}),/*#__PURE__*/_jsx(\"div\",{style:helpStyle,children:/*#__PURE__*/_jsxs(\"small\",{style:helpTextStyle,children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Development Mode:\"}),\" OTP will be displayed in browser console and alert popup.\"]})})]})});};export default Register;","map":{"version":3,"names":["React","useState","useNavigate","useAuth","validateEmail","validateUserName","jsx","_jsx","jsxs","_jsxs","Register","navigate","generateOTP","formData","setFormData","email","name","isLoading","setIsLoading","error","setError","containerStyle","display","justifyContent","alignItems","minHeight","background","padding","fontFamily","cardStyle","borderRadius","width","maxWidth","boxShadow","animation","titleStyle","textAlign","marginBottom","color","fontSize","fontWeight","inputStyle","border","boxSizing","transition","buttonStyle","cursor","opacity","errorStyle","backgroundColor","linksStyle","linkTextStyle","linkButtonStyle","textDecoration","marginLeft","helpStyle","marginTop","helpTextStyle","lineHeight","handleInputChange","e","value","target","prev","handleSubmit","preventDefault","result","success","alert","otp","state","isRegister","console","style","children","onSubmit","type","placeholder","onChange","required","disabled","onClick"],"sources":["/Users/ridhoauliarahman/Library/CloudStorage/GoogleDrive-ridho.aulia7324@gmail.com/My Drive/ICP/icp-chat-app/src/frontend/src/components/Auth/Register.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../../hooks/useAuth';\nimport { validateEmail, validateUserName } from '../../utils/helpers';\n\nconst Register = () => {\n    const navigate = useNavigate();\n    const { generateOTP } = useAuth();\n    const [formData, setFormData] = useState({\n        email: '',\n        name: ''\n    });\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState('');\n\n    // Inline styles\n    const containerStyle = {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        minHeight: '100vh',\n        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n        padding: '20px',\n        fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", sans-serif'\n    };\n\n    const cardStyle = {\n        background: 'white',\n        borderRadius: '12px',\n        padding: '40px',\n        width: '100%',\n        maxWidth: '400px',\n        boxShadow: '0 10px 30px rgba(0, 0, 0, 0.1)',\n        animation: 'fadeIn 0.3s ease-in-out'\n    };\n\n    const titleStyle = {\n        textAlign: 'center',\n        marginBottom: '30px',\n        color: '#333',\n        fontSize: '28px',\n        fontWeight: '600'\n    };\n\n    const inputStyle = {\n        width: '100%',\n        padding: '15px',\n        border: '2px solid #e1e5e9',\n        borderRadius: '8px',\n        fontSize: '16px',\n        marginBottom: '20px',\n        boxSizing: 'border-box',\n        transition: 'border-color 0.3s ease'\n    };\n\n    const buttonStyle = {\n        width: '100%',\n        padding: '15px',\n        background: isLoading ? '#ccc' : 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n        color: 'white',\n        border: 'none',\n        borderRadius: '8px',\n        fontSize: '16px',\n        fontWeight: '600',\n        cursor: isLoading ? 'not-allowed' : 'pointer',\n        marginBottom: '20px',\n        opacity: isLoading ? 0.7 : 1\n    };\n\n    const errorStyle = {\n        backgroundColor: '#f8d7da',\n        color: '#721c24',\n        padding: '12px',\n        borderRadius: '6px',\n        marginBottom: '20px',\n        border: '1px solid #f5c6cb',\n        fontSize: '14px'\n    };\n\n    const linksStyle = {\n        textAlign: 'center',\n        marginBottom: '20px'\n    };\n\n    const linkTextStyle = {\n        color: '#666',\n        fontSize: '14px',\n        marginBottom: '10px'\n    };\n\n    const linkButtonStyle = {\n        background: 'none',\n        border: 'none',\n        color: '#667eea',\n        cursor: 'pointer',\n        fontSize: '14px',\n        textDecoration: 'underline',\n        marginLeft: '5px'\n    };\n\n    const helpStyle = {\n        textAlign: 'center',\n        padding: '15px',\n        backgroundColor: '#f8f9fa',\n        borderRadius: '8px',\n        marginTop: '20px'\n    };\n\n    const helpTextStyle = {\n        color: '#6c757d',\n        fontSize: '12px',\n        lineHeight: '1.4'\n    };\n\n    const handleInputChange = (e) => {\n        const { name, value } = e.target;\n        setFormData(prev => ({\n            ...prev,\n            [name]: value\n        }));\n        setError('');\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        \n        try {\n            setIsLoading(true);\n            setError('');\n\n            if (!validateEmail(formData.email)) {\n                setError('Please enter a valid email address');\n                return;\n            }\n\n            if (!validateUserName(formData.name)) {\n                setError('Please enter a valid name (1-100 characters)');\n                return;\n            }\n\n            const result = await generateOTP(formData.email);\n            \n            if (result.success) {\n                alert(`OTP Generated!\\n\\nEmail: ${formData.email}\\nOTP: ${result.otp}\\n\\nCheck browser console for details.`);\n                \n                navigate('/verify-otp', {\n                    state: {\n                        email: formData.email,\n                        name: formData.name,\n                        isRegister: true\n                    }\n                });\n            } else {\n                setError(result.error);\n            }\n        } catch (error) {\n            console.error('❌ Registration error:', error);\n            setError('Failed to generate OTP. Please try again.');\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    return (\n        <div style={containerStyle}>\n            <div style={cardStyle}>\n                <h2 style={titleStyle}>Create Account</h2>\n                \n                {error && <div style={errorStyle}>{error}</div>}\n\n                <form onSubmit={handleSubmit}>\n                    <input\n                        type=\"email\"\n                        name=\"email\"\n                        placeholder=\"Email Address\"\n                        value={formData.email}\n                        onChange={handleInputChange}\n                        style={inputStyle}\n                        required\n                    />\n\n                    <input\n                        type=\"text\"\n                        name=\"name\"\n                        placeholder=\"Full Name\"\n                        value={formData.name}\n                        onChange={handleInputChange}\n                        style={inputStyle}\n                        required\n                    />\n\n                    <button \n                        type=\"submit\" \n                        style={buttonStyle}\n                        disabled={isLoading}\n                    >\n                        {isLoading ? 'Generating OTP...' : 'Continue'}\n                    </button>\n                </form>\n\n                <div style={linksStyle}>\n                    <p style={linkTextStyle}>\n                        Already have an account? \n                        <button \n                            type=\"button\" \n                            style={linkButtonStyle}\n                            onClick={() => navigate('/login')}\n                        >\n                            Sign In\n                        </button>\n                    </p>\n                </div>\n\n                <div style={helpStyle}>\n                    <small style={helpTextStyle}>\n                        <strong>Development Mode:</strong> OTP will be displayed in browser console and alert popup.\n                    </small>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Register;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}