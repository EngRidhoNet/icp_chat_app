{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'../../hooks/useAuth';import{validateEmail}from'../../utils/helpers';import'../../styles/globals.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";;const Login=()=>{const navigate=useNavigate();const{login}=useAuth();const[email,setEmail]=useState('');const[isLoading,setIsLoading]=useState(false);const[error,setError]=useState('');const handleEmailChange=e=>{setEmail(e.target.value);setError('');};const handleSubmit=async e=>{e.preventDefault();try{setIsLoading(true);setError('');// Validate email\nif(!validateEmail(email)){setError('Please enter a valid email address');return;}const result=await login(email);if(result.success){// Navigation will be handled by App.jsx based on auth state\nconsole.log('✅ Login successful, redirecting to chat...');}else{setError(result.error);}}catch(error){console.error('❌ Login error:',error);setError('Failed to login. Please try again.');}finally{setIsLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"auth-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"auth-card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Sign In\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:handleEmailChange,placeholder:\"Email Address\",required:true})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"auth-button\",disabled:isLoading,children:isLoading?'Signing In...':'Sign In'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-links\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Don't have an account?\",/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"link-button\",onClick:()=>navigate('/register'),children:\"Sign Up\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-help\",children:/*#__PURE__*/_jsx(\"small\",{children:\"Enter your email to sign in. New users will be prompted to register.\"})})]})});};export default Login;","map":{"version":3,"names":["React","useState","useNavigate","useAuth","validateEmail","jsx","_jsx","jsxs","_jsxs","Login","navigate","login","email","setEmail","isLoading","setIsLoading","error","setError","handleEmailChange","e","target","value","handleSubmit","preventDefault","result","success","console","log","className","children","onSubmit","type","onChange","placeholder","required","disabled","onClick"],"sources":["/Users/ridhoauliarahman/Library/CloudStorage/GoogleDrive-ridho.aulia7324@gmail.com/My Drive/ICP/icp-chat-app/src/frontend/src/components/Auth/Login.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../../hooks/useAuth';\nimport { validateEmail } from '../../utils/helpers';\nimport '../../styles/globals.css';;\n\nconst Login = () => {\n    const navigate = useNavigate();\n    const { login } = useAuth();\n    const [email, setEmail] = useState('');\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState('');\n\n    const handleEmailChange = (e) => {\n        setEmail(e.target.value);\n        setError('');\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        \n        try {\n            setIsLoading(true);\n            setError('');\n\n            // Validate email\n            if (!validateEmail(email)) {\n                setError('Please enter a valid email address');\n                return;\n            }\n\n            const result = await login(email);\n            \n            if (result.success) {\n                // Navigation will be handled by App.jsx based on auth state\n                console.log('✅ Login successful, redirecting to chat...');\n            } else {\n                setError(result.error);\n            }\n        } catch (error) {\n            console.error('❌ Login error:', error);\n            setError('Failed to login. Please try again.');\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"auth-container\">\n            <div className=\"auth-card\">\n                <h2>Sign In</h2>\n                \n                {error && <div className=\"error-message\">{error}</div>}\n\n                <form onSubmit={handleSubmit}>\n                    <div className=\"form-group\">\n                        <input\n                            type=\"email\"\n                            value={email}\n                            onChange={handleEmailChange}\n                            placeholder=\"Email Address\"\n                            required\n                        />\n                    </div>\n\n                    <button \n                        type=\"submit\" \n                        className=\"auth-button\"\n                        disabled={isLoading}\n                    >\n                        {isLoading ? 'Signing In...' : 'Sign In'}\n                    </button>\n                </form>\n\n                <div className=\"auth-links\">\n                    <p>\n                        Don't have an account? \n                        <button \n                            type=\"button\" \n                            className=\"link-button\"\n                            onClick={() => navigate('/register')}\n                        >\n                            Sign Up\n                        </button>\n                    </p>\n                </div>\n\n                <div className=\"auth-help\">\n                    <small>\n                        Enter your email to sign in. New users will be prompted to register.\n                    </small>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}