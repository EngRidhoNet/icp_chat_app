{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'../../hooks/useAuth';import{validateEmail,validateUserName}from'../../utils/helpers';import'./Auth.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const navigate=useNavigate();const{generateOTP}=useAuth();const[formData,setFormData]=useState({email:'',name:''});const[isLoading,setIsLoading]=useState(false);const[error,setError]=useState('');const handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));setError('');};const handleSubmit=async e=>{e.preventDefault();try{setIsLoading(true);setError('');// Validate email\nif(!validateEmail(formData.email)){setError('Please enter a valid email address');return;}// Validate name\nif(!validateUserName(formData.name)){setError('Please enter a valid name (1-100 characters)');return;}// Generate OTP\nconst result=await generateOTP(formData.email);if(result.success){// Show alert with OTP\nalert(`OTP Generated!\\n\\nEmail: ${formData.email}\\nOTP: ${result.otp}\\n\\nCheck browser console for details.`);// Navigate to OTP verification\nnavigate('/verify-otp',{state:{email:formData.email,name:formData.name,isRegister:true}});}else{setError(result.error);}}catch(error){console.error('❌ Registration error:',error);setError('Failed to generate OTP. Please try again.');}finally{setIsLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"auth-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"auth-card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create Account\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email Address\",value:formData.email,onChange:handleInputChange,required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"Full Name\",value:formData.name,onChange:handleInputChange,required:true})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"auth-button\",disabled:isLoading,children:isLoading?'Generating OTP...':'Continue'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-links\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Already have an account?\",/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"link-button\",onClick:()=>navigate('/login'),children:\"Sign In\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-help\",children:/*#__PURE__*/_jsxs(\"small\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Development Mode:\"}),\" OTP will be displayed in browser console and alert popup.\"]})})]})});};export default Register;","map":{"version":3,"names":["React","useState","useNavigate","useAuth","validateEmail","validateUserName","jsx","_jsx","jsxs","_jsxs","Register","navigate","generateOTP","formData","setFormData","email","name","isLoading","setIsLoading","error","setError","handleInputChange","e","value","target","prev","handleSubmit","preventDefault","result","success","alert","otp","state","isRegister","console","className","children","onSubmit","type","placeholder","onChange","required","disabled","onClick"],"sources":["/Users/ridhoauliarahman/Library/CloudStorage/GoogleDrive-ridho.aulia7324@gmail.com/My Drive/ICP/icp-chat-app/src/frontend/src/components/Auth/Register.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../../hooks/useAuth';\nimport { validateEmail, validateUserName } from '../../utils/helpers';\nimport './Auth.css';\n\nconst Register = () => {\n    const navigate = useNavigate();\n    const { generateOTP } = useAuth();\n    const [formData, setFormData] = useState({\n        email: '',\n        name: ''\n    });\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState('');\n\n    const handleInputChange = (e) => {\n        const { name, value } = e.target;\n        setFormData(prev => ({\n            ...prev,\n            [name]: value\n        }));\n        setError('');\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        \n        try {\n            setIsLoading(true);\n            setError('');\n\n            // Validate email\n            if (!validateEmail(formData.email)) {\n                setError('Please enter a valid email address');\n                return;\n            }\n\n            // Validate name\n            if (!validateUserName(formData.name)) {\n                setError('Please enter a valid name (1-100 characters)');\n                return;\n            }\n\n            // Generate OTP\n            const result = await generateOTP(formData.email);\n            \n            if (result.success) {\n                // Show alert with OTP\n                alert(`OTP Generated!\\n\\nEmail: ${formData.email}\\nOTP: ${result.otp}\\n\\nCheck browser console for details.`);\n                \n                // Navigate to OTP verification\n                navigate('/verify-otp', {\n                    state: {\n                        email: formData.email,\n                        name: formData.name,\n                        isRegister: true\n                    }\n                });\n            } else {\n                setError(result.error);\n            }\n        } catch (error) {\n            console.error('❌ Registration error:', error);\n            setError('Failed to generate OTP. Please try again.');\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"auth-container\">\n            <div className=\"auth-card\">\n                <h2>Create Account</h2>\n                \n                {error && <div className=\"error-message\">{error}</div>}\n\n                <form onSubmit={handleSubmit}>\n                    <div className=\"form-group\">\n                        <input\n                            type=\"email\"\n                            name=\"email\"\n                            placeholder=\"Email Address\"\n                            value={formData.email}\n                            onChange={handleInputChange}\n                            required\n                        />\n                    </div>\n\n                    <div className=\"form-group\">\n                        <input\n                            type=\"text\"\n                            name=\"name\"\n                            placeholder=\"Full Name\"\n                            value={formData.name}\n                            onChange={handleInputChange}\n                            required\n                        />\n                    </div>\n\n                    <button \n                        type=\"submit\" \n                        className=\"auth-button\"\n                        disabled={isLoading}\n                    >\n                        {isLoading ? 'Generating OTP...' : 'Continue'}\n                    </button>\n                </form>\n\n                <div className=\"auth-links\">\n                    <p>\n                        Already have an account? \n                        <button \n                            type=\"button\" \n                            className=\"link-button\"\n                            onClick={() => navigate('/login')}\n                        >\n                            Sign In\n                        </button>\n                    </p>\n                </div>\n\n                <div className=\"auth-help\">\n                    <small>\n                        <strong>Development Mode:</strong> OTP will be displayed in browser console and alert popup.\n                    </small>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Register;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}